@using sk.shared

<div class="w-100 h-100 d-flex align-items-center justify-content-center" @ondragover:preventDefault="true"  
    style="z-index: 8; width: 90%; max-width: 1200px;">
    <div>
        <p>@PlayerViewInfo.TablePlayer.Position</p>
    </div>
    <div class="hand-container">
        @{
            var cards = GetOrderedCards().ToList();
            var cardCount = cards.Count;
            for (int i = 0; i < cardCount; i++)
            {
                var card = cards[i];
                var rotation = (i - (cardCount - 1) / 2.0) * 4; // Adjust for more/less fan

                <div class="hand-card" style="--rotation: @rotation;">
                    <div class="draggable skcard @card.GetCssClass() @(IsValidCard(card) ? "border border-3 rounded border-info" : "")"
                         draggable="true"
                         @onclick="() => PlayCard(card)"
                         @ontouchstart="(e) => OnDragStart(e, card)"
                         @ontouchend="OnDragEnd"
                         @ondragenter="(e) => OnDragStart(e, card)"
                         @ondragend="OnDragEnd"
                         @ontouchcancel="() => draggedCard = null">
                    </div>
                </div>
            }
        }
    </div>
</div>