@using sk.shared

<div class="w-100 h-100 d-flex align-items-end justify-content-center">
    <div class="hand-container">
        @{
            var cards = GetOrderedCards().ToList();
            var cardCount = cards.Count;
            for (int i = 0; i < cardCount; i++)
            {
                var card = cards[i];
                var rotation = (i - (cardCount - 1) / 2.0) * 4; // Adjust for more/less fan

                <div class="hand-card" style="--rotation: @rotation;">
                    <div class="draggable skcard @card.GetCssClass() @(IsValidCard(card) ? "border border-3 rounded border-info" : "")"
                         draggable="true"
                         @onclick="() => PlayCard(card)"
                         @ontouchstart="(e) => OnDragStart(e, card)"
                         @ontouchmove="OnDragMove"
                         @ontouchend="OnDragEnd"
                         @onmousedown="(e) => OnDragStart(e, card)"
                         @onmousemove="OnDragMove"
                         @onmouseup="OnDragEnd">
                    </div>
                </div>
            }
        }
    </div>
</div>