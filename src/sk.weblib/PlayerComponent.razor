@using sk.shared

<div class="w-100 h-100 d-flex align-items-center justify-content-center" @ondragover:preventDefault="true"  
    style="z-index: 8; width: 90%; max-width: 1200px;">
    <div class="hand-container">
        @{
            var cards = GetOrderedCards().ToList();
            var cardCount = cards.Count;
            for (int i = 0; i < cardCount; i++)
            {
                var card = cards[i];
                var rotation = (i - (cardCount - 1) / 2.0) * 4; // Adjust for more/less fan

                <div class="hand-card @(draggedCard == card ? "dragging" : "")"
                          style="
                            --rotation: @rotation;
                            --drag-x: @(draggedCard == card ? $"{dragOffsetX}px" : "0px");
                            --drag-y: @(draggedCard == card ? $"{dragOffsetY}px" : "0px");
                        ">
                    <div id="@card.GetElementId()" class="draggable skcard @card.GetCssClass() @(IsValidCard(card) ? "border border-3 rounded border-info" : "")"
                        @onpointerdown="e => OnPointerDown(e, card)"
                        @onpointermove="OnPointerMove"
                        @onpointerup="OnPointerUp"
                        @onpointercancel="OnPointerCancel">
                    </div>

                </div>
            }
        }
    </div>
</div>